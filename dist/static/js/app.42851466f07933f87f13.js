webpackJsonp([1],{"+K+y":function(t,e){},NHnr:function(t,e,s){"use strict";function r(t){s("SMUJ")}function n(t){s("+K+y")}Object.defineProperty(e,"__esModule",{value:!0});var i=s("/5sW"),a=s("3EgV"),o=s.n(a),l=(s("QCv7"),s("kxiW")),d={data:function(){return{sideNav:!1}},computed:{menuItems:function(){var t=[{icon:"face",title:"Sign Up",link:"/signup"},{icon:"lock_open",title:"Sign In",link:"/signin"}];return this.userIsAuthenticated&&(t=[{icon:"view_list",title:"View Event",link:"/events"},{icon:"room",title:"Organize Event",link:"/event/create"},{icon:"person",title:"Profile",link:"/profile"}]),t},userIsAuthenticated:function(){return null!==this.$store.getters.user&&void 0!==this.$store.getters.user}},methods:{onLogout:function(){this.$store.dispatch("logout"),this.$router.push("/")}}},c=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-app",{attrs:{dark:""}},[s("v-toolbar",[s("v-toolbar-side-icon",{staticClass:"hidden-sm-and-up",nativeOn:{click:function(e){e.stopPropagation(),t.sideNav=!t.sideNav}}}),t._v(" "),s("v-toolbar-title",{staticClass:"ml-4"},[s("router-link",{staticStyle:{cursor:"pointer"},attrs:{to:"/",tag:"span"}},[t._v("Eventful")])],1),t._v(" "),s("v-spacer"),t._v(" "),s("v-toolbar-items",{staticClass:"hidden-xs-only"},[t._l(t.menuItems,function(e){return s("v-btn",{key:e.title,attrs:{flat:"",router:"",to:e.link}},[s("v-icon",{attrs:{left:""}},[t._v(t._s(e.icon))]),t._v("\n          "+t._s(e.title)+"\n        ")],1)}),t._v(" "),t.userIsAuthenticated?s("v-btn",{attrs:{flat:""},on:{click:t.onLogout}},[s("v-icon",{attrs:{left:""}},[t._v("exit_to_app")]),t._v("\n          "+t._s("Logout")+"\n        ")],1):t._e()],2)],1),t._v(" "),s("main",[s("router-view")],1)],1)},v=[],u={render:c,staticRenderFns:v},f=u,m=s("VU/8"),p=r,h=m(d,f,!1,p,null,null),g=h.exports,_=s("/ocq"),x={computed:{events:function(){return this.$store.getters.featureEvents},loading:function(){return this.$store.getters.loading}},methods:{onLoadEvent:function(t){this.$router.push("/events/"+t)}}},w=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",[s("v-layout",{staticClass:"mb-2",attrs:{row:"",wrap:""}},[s("v-flex",{staticClass:"text-xs-center text-sm-right",attrs:{xs12:"",sm6:""}},[s("v-btn",{attrs:{large:"",router:"",to:"/events"}},[t._v("Explore Events")])],1),t._v(" "),s("v-flex",{staticClass:"text-xs-center text-sm-left",attrs:{xs12:"",sm6:""}},[s("v-btn",{attrs:{large:"",router:"",to:"/event/create"}},[t._v("Create Event")])],1)],1),t._v(" "),s("v-layout",[s("v-flex",{staticClass:"text-xs-center",attrs:{xs12:""}},[t.loading?s("v-progress-circular",{staticClass:"primary--text",attrs:{interminate:"",width:7,size:70}}):t._e()],1)],1),t._v(" "),t.loading?t._e():s("v-layout",{staticClass:"mt-2",attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{xs12:""}},[s("v-carousel",{staticStyle:{cursor:"pointer"}},t._l(t.events,function(e){return s("v-carousel-item",{key:e.id,attrs:{src:e.imageUrl},on:{click:function(s){t.onLoadEvent(e.id)}}},[s("div",{staticClass:"title"},[t._v("\n              Events in "+t._s(e.title)+"\n            ")])])}))],1)],1),t._v(" "),s("v-layout",{staticClass:"mt-2",attrs:{row:"",wrap:""}},[s("v-flex",{staticClass:"text-xs-center",attrs:{xs12:""}},[s("p",[t._v("Don't be afraid to join!")])])],1)],1)},b=[],E={render:w,staticRenderFns:b},y=E,C=s("VU/8"),U=n,D=C(x,y,!1,U,"data-v-2b2c80a5",null),k=D.exports,$={computed:{events:function(){return this.$store.getters.loadedEvents}}},I=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",t._l(t.events,function(e){return s("v-layout",{key:e.id,staticClass:"mb-2",attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{xs12:"",sm10:"",md8:"","offset-sm1":"","offset-md2":""}},[s("v-card",[s("v-container",{attrs:{fluid:""}},[s("v-layout",{attrs:{row:""}},[s("v-flex",{attrs:{xs5:""}},[s("v-card-media",{attrs:{src:e.imageUrl,height:"130px"}})],1),t._v(" "),s("v-flex",{attrs:{xs7:"",sm8:"",md9:""}},[s("v-card-title",{attrs:{"primary-title":""}},[s("div",[s("h3",{staticClass:"white--text"},[t._v(" "+t._s(e.title))]),t._v(" "),s("div",[t._v(t._s(t._f("date")(e.date)))])])]),t._v(" "),s("v-card-actions",[s("v-btn",{attrs:{flat:"",to:"/events/"+e.id}},[s("v-icon",{attrs:{left:""}},[t._v("pageview")]),t._v("\n                  View Event\n                ")],1)],1)],1)],1)],1)],1)],1)],1)}))},L=[],T={render:I,staticRenderFns:L},S=T,F=s("VU/8"),R=F($,S,!1,null,null,null),P=R.exports,V={data:function(){return{title:"",location:"",imageUrl:this.image,description:"",date:"",time:new Date,image:null}},computed:{formIsValid:function(){return""!==this.title&&""!==this.location&&""!==this.imageUrl&&""!==this.description},submittableDateTime:function(){var t=new Date(this.date);if("string"==typeof this.time){var e=this.time.match(/^(\d+)/)[1],s=this.time.match(/:(\d+)/)[1];t.setHours(e),t.setMinutes(s)}else this.time&&(t.setHours(this.time.getHours()),t.setMinutes(this.time.getMinutes()));return t}},methods:{onCreate:function(){if(this.formIsValid&&this.image){var t={title:this.title,location:this.location,image:this.image,description:this.description,date:this.submittableDateTime};this.$store.dispatch("createEvent",t),this.$router.push("/events")}},onFileSelect:function(){this.$refs.fileInput.click()},onFilePicked:function(t){var e=this,s=t.target.files;if(s[0].name.lastIndexOf(".")<=0)return alert("Please add a valid file!");var r=new FileReader;r.addEventListener("load",function(){e.imageUrl=r.result}),r.readAsDataURL(s[0]),this.image=s[0]}}},M=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",[s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[s("h1",[t._v("Creating a event")])])],1),t._v(" "),s("v-layout",{attrs:{row:""}},[s("v-flex",{attrs:{xs12:""}},[s("form",{on:{submit:function(e){e.preventDefault(),t.onCreate(e)}}},[s("v-layout",{attrs:{row:""}},[s("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[s("v-text-field",{attrs:{name:"title",label:"Title",id:"title",required:""},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}})],1)],1),t._v(" "),s("v-layout",{attrs:{row:""}},[s("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[s("v-text-field",{attrs:{name:"location",label:"Location",id:"location",required:""},model:{value:t.location,callback:function(e){t.location=e},expression:"location"}})],1)],1),t._v(" "),s("v-layout",{attrs:{row:""}},[s("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[s("v-btn",{attrs:{raised:""},on:{click:t.onFileSelect}},[t._v("Upload Image")]),t._v(" "),s("input",{ref:"fileInput",staticStyle:{display:"none"},attrs:{type:"file",accept:"image/*"},on:{change:t.onFilePicked}})],1)],1),t._v(" "),s("v-layout",{attrs:{row:""}},[s("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[s("img",{attrs:{src:t.imageUrl,height:"300"}})])],1),t._v(" "),s("v-layout",{attrs:{row:""}},[s("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[s("v-text-field",{attrs:{name:"description",label:"Description",id:"description",required:"","multi-line":""},model:{value:t.description,callback:function(e){t.description=e},expression:"description"}})],1)],1),t._v(" "),s("v-layout",{attrs:{row:""}},[s("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[s("h4",[t._v(" Choose a Date and Time ")])])],1),t._v(" "),s("v-layout",{staticClass:"mb-2",attrs:{row:""}},[s("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[s("v-date-picker",{model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1)],1),t._v(" "),s("v-layout",{attrs:{row:""}},[s("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[s("v-time-picker",{attrs:{format:"24hr"},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}})],1)],1),t._v(" "),s("v-layout",{attrs:{row:""}},[s("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[s("v-btn",{attrs:{disabled:!t.formIsValid,type:"submit"}},[t._v("Create Event ")])],1)],1)],1)])],1)],1)},K=[],O={render:M,staticRenderFns:K},q=O,A=s("VU/8"),j=A(V,q,!1,null,null,null),N=j.exports,H={computed:{events:function(){return this.$store.getters.loadedEvents},getRegisteredEvents:function(){var t=this,e=this.$store.getters.user.registeredEvents,s=[];return e.forEach(function(e){t.events.forEach(function(t){t&&t.id===e&&s.push(t)})}),s}}},Y=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",[s("v-layout",{attrs:{row:"",wrap:""}},[s("h6",{staticClass:"title mb-5"},[t._v("Registered Events")])]),t._v(" "),t._l(t.getRegisteredEvents,function(e){return s("v-layout",{key:e.id,staticClass:"mb-2",attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{xs12:"",sm10:"",md8:"","offset-sm1":"","offset-md2":""}},[s("v-card",[s("v-container",{attrs:{fluid:""}},[s("v-layout",{attrs:{row:""}},[s("v-flex",{attrs:{xs5:""}},[s("v-card-media",{attrs:{src:e.imageUrl,height:"130px"}})],1),t._v(" "),s("v-flex",{attrs:{xs7:"",sm8:"",md9:""}},[s("v-card-title",{attrs:{"primary-title":""}},[s("div",[s("h3",{staticClass:"white--text"},[t._v(" "+t._s(e.title))]),t._v(" "),s("div",[t._v(t._s(t._f("date")(e.date)))])])]),t._v(" "),s("v-card-actions",[s("v-btn",{attrs:{flat:"",to:"/events/"+e.id}},[s("v-icon",{attrs:{left:""}},[t._v("pageview")]),t._v("\n                  View Event\n                ")],1)],1)],1)],1)],1)],1)],1)],1)})],2)},z=[],W={render:Y,staticRenderFns:z},J=W,Q=s("VU/8"),B=Q(H,J,!1,null,null,null),G=B.exports,X={data:function(){return{email:"",password:""}},computed:{user:function(){return this.$store.getters.user},error:function(){return this.$store.getters.error},loading:function(){return this.$store.getters.loading}},watch:{user:function(t){null!==t&&void 0!==t&&this.$router.push("/")}},methods:{onSignin:function(){this.$store.dispatch("signUserIn",{email:this.email,password:this.password})},onDismissed:function(){this.$store.dispatch("clearError")}}},Z=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",[t.error?s("v-layout",{attrs:{row:""}},[s("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[s("app-alert",{attrs:{text:t.error.message},on:{dismissed:t.onDismissed}})],1)],1):t._e(),t._v(" "),s("v-layout",{attrs:{row:""}},[s("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[s("v-card",[s("v-card-text",[s("v-container",[s("form",{on:{submit:function(e){e.preventDefault(),t.onSignin(e)}}},[s("v-layout",{attrs:{row:""}},[s("v-flex",{attrs:{xs12:""}},[s("v-text-field",{attrs:{name:"email",label:"Mail",id:"email",type:"email",required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1)],1),t._v(" "),s("v-layout",{attrs:{row:""}},[s("v-flex",{attrs:{xs12:""}},[s("v-text-field",{attrs:{name:"password",label:"Password",id:"password",type:"password",required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),t._v(" "),s("v-layout",[s("v-flex",{attrs:{xs12:""}},[s("v-btn",{attrs:{type:"submit",disabled:t.loading,loading:t.loading}},[t._v("\n                    Sign in\n                    "),s("span",{staticClass:"custom-loader",attrs:{slot:"loader"},slot:"loader"},[s("v-icon",{attrs:{light:""}},[t._v("cached")])],1)])],1)],1)],1)])],1)],1)],1)],1)],1)},tt=[],et={render:Z,staticRenderFns:tt},st=et,rt=s("VU/8"),nt=rt(X,st,!1,null,null,null),it=nt.exports,at={data:function(){return{email:"",password:"",confirmPassword:""}},computed:{comparePasswords:function(){return this.password!==this.confirmPassword?"Passwords do not match":""},user:function(){return this.$store.getters.user},error:function(){return this.$store.getters.error},loading:function(){return this.$store.getters.loading}},watch:{user:function(t){null!==t&&void 0!==t&&this.$router.push("/")}},methods:{onSignup:function(){this.$store.dispatch("signUserUp",{email:this.email,password:this.password})},onDismissed:function(){this.$store.dispatch("clearError")}}},ot=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",[t.error?s("v-layout",{attrs:{row:""}},[s("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[s("app-alert",{attrs:{text:t.error.message},on:{dismissed:t.onDismissed}})],1)],1):t._e(),t._v(" "),s("v-layout",{attrs:{row:""}},[s("v-flex",{attrs:{xs12:"",sm6:"","offset-sm3":""}},[s("v-card",[s("v-card-text",[s("v-container",[s("form",{on:{submit:function(e){e.preventDefault(),t.onSignup(e)}}},[s("v-layout",{attrs:{row:""}},[s("v-flex",{attrs:{xs12:""}},[s("v-text-field",{attrs:{name:"email",label:"Mail",id:"email",type:"email",required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1)],1),t._v(" "),s("v-layout",{attrs:{row:""}},[s("v-flex",{attrs:{xs12:""}},[s("v-text-field",{attrs:{name:"password",label:"Password",id:"password",type:"password",required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),t._v(" "),s("v-layout",{attrs:{row:""}},[s("v-flex",{attrs:{xs12:""}},[s("v-text-field",{attrs:{name:"confirmPassword",label:"Confirm Password",id:"confirmPassword",type:"password",required:"",rules:[t.comparePasswords]},model:{value:t.confirmPassword,callback:function(e){t.confirmPassword=e},expression:"confirmPassword"}})],1)],1),t._v(" "),s("v-layout",[s("v-flex",{attrs:{xs12:""}},[s("v-btn",{attrs:{type:"submit",disabled:t.loading,loading:t.loading}},[t._v("\n                    Sign Up\n                    "),s("span",{staticClass:"custom-loader",attrs:{slot:"loader"},slot:"loader"},[s("v-icon",{attrs:{light:""}},[t._v("cached")])],1)])],1)],1)],1)])],1)],1)],1)],1)],1)},lt=[],dt={render:ot,staticRenderFns:lt},ct=dt,vt=s("VU/8"),ut=vt(at,ct,!1,null,null,null),ft=ut.exports,mt={props:["id"],computed:{event:function(){return this.$store.getters.loadedEvent(this.id)},userIsAuthenticated:function(){return null!==this.$store.getters.user&&void 0!==this.$store.getters.user},userIsCreator:function(){return!!this.userIsAuthenticated&&this.$store.getters.user.id===this.event.creatorId},loading:function(){return this.$store.getters.loading}}},pt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",[t.loading?s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{staticClass:"text-xs-center",attrs:{xs12:""}},[t.loading?s("v-progress-circular",{staticClass:"primary--text",attrs:{interminate:"",width:7,size:70}}):t._e()],1)],1):s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{xs12:""}},[s("v-card",[s("v-card-title",[s("h4",[t._v(t._s(t.event.title))]),t._v(" "),t.userIsCreator?[s("v-spacer"),t._v(" "),s("app-edit-event-modal",{attrs:{event:t.event}})]:t._e()],2),t._v(" "),s("v-card-media",{attrs:{src:t.event.imageUrl,height:"450px"}}),t._v(" "),s("v-card-text",[s("div",[t._v(t._s(t._f("date")(t.event.date))+" - "+t._s(t.event.location)+" ")]),t._v(" "),t.userIsCreator?s("div",[s("app-edit-date-modal",{attrs:{event:t.event}}),t._v(" "),s("app-edit-time-modal",{attrs:{event:t.event}})],1):t._e(),t._v(" "),s("div",[t._v(" "+t._s(t.event.description)+" ")])]),t._v(" "),s("v-card-actions",[s("v-spacer"),t._v(" "),t.userIsAuthenticated&&!t.userIsCreator?s("app-register-modal",{attrs:{eventId:t.event.id}}):t._e()],1)],1)],1)],1)],1)},ht=[],gt={render:pt,staticRenderFns:ht},_t=gt,xt=s("VU/8"),wt=xt(mt,_t,!1,null,null,null),bt=wt.exports,Et=s("Dd8w"),yt=s.n(Et),Ct=s("uqrR"),Ut=s.n(Ct),Dt=s("NYxO");i.a.use(Dt.a);var kt=new Dt.a.Store({state:{loadedEvents:[{imageUrl:"https://lonelyplanetimages.imgix.net/mastheads/GettyImages-538096543_medium.jpg?sharp=10&vib=20&w=1200",id:"fghjklkjh",title:"New York",location:"New York",date:new Date,description:"yay"},{imageUrl:"http://www.seetorontonow.com/wp-content/uploads/2017/11/toronto-skyline-winter.jpg",id:"haldjahfjf",title:"Toronto",location:"Toronto",date:new Date,description:"work"}],user:null,loading:!1,error:!1},mutations:{registerUserForEvent:function(t,e){var s=e.id;t.user.registeredEvents.findIndex(function(t){return t.id===s})>=0||(t.user.registeredEvents.push(s),t.user.fbKeys[s]=e.fbKey)},unregisterUserForEvent:function(t,e){var s=t.user.registeredEvents;s.splice(s.findIndex(function(t){return t.id===e}),1),Ut()(t.user.fbKeys,e)},setLoadedEvents:function(t,e){t.loadedEvents=e},createEvent:function(t,e){t.loadedEvents.push(e)},updateEvent:function(t,e){var s=t.loadedEvents.find(function(t){return t.id===e.id});e.title&&(s.title=e.title),e.description&&(s.description=e.description),e.date&&(s.date=e.date)},setUser:function(t,e){t.user=e},setLoading:function(t,e){t.loading=e},setError:function(t,e){t.error=e},clearError:function(t){t.error=null}},actions:{registerUserForEvent:function(t,e){var s=t.commit,r=t.getters;s("setLoading",!0);var n=r.user;l.database().ref("/users/"+n.id).child("/registrations/").push(e).then(function(t){s("setLoading",!1),s("registerUserForEvent",{id:e,fbKey:t.key})}).catch(function(t){console.log(t),s("setLoading",!1)})},unregisterUserForEvent:function(t,e){var s=t.commit,r=t.getters;s("setLoading",!0);var n=r.user;if(n.fbKeys){var i=n.fbKeys[e];l.database().ref("/users/"+n.id+"/registrations/").child(i).remove().then(function(){s("setLoading",!1),s("unregisterUserForEvent",e)}).catch(function(t){console.log(t),s("setLoading",!1)})}},loadEvents:function(t){var e=t.commit;e("setLoading",!0),l.database().ref("events").once("value").then(function(t){var s=[],r=t.val();for(var n in r)s.push({id:n,title:r[n].title,description:r[n].description,imageUrl:r[n].imageUrl,date:r[n].date,location:r[n].location,creatorId:r[n].creatorId});e("setLoadedEvents",s),e("setLoading",!1)}).catch(function(t){console.log(t),e("setLoading",!0)})},createEvent:function(t,e){var s=t.commit,r=t.getters,n={title:e.title,location:e.location,description:e.description,date:e.date.toISOString(),creatorId:r.user.id},i=void 0;l.database().ref("events").push(n).then(function(t){return i=t.key}).then(function(t){var s=e.image.name,r=s.slice(s.lastIndexOf("."));return l.storage().ref("events/"+t+r).put(e.image)}).then(function(t){return t.ref.getDownloadURL()}).then(function(t){return l.database().ref("events").child(i).update({imageUrl:t})}).then(function(){s("createEvent",yt()({},n,{imageUrl:void 0,id:i}))}).catch(function(t){console.log(t)})},updateEvent:function(t,e){var s=t.commit;s("setLoading",!0);var r={};e.title&&(r.title=e.title),e.description&&(r.description=e.description),e.date&&(r.date=e.date),l.database().ref("events").child(e.id).update(r).then(function(){r.id=e.id,s("setLoading",!1),s("updateEvent",r)}).catch(function(t){console.log(t),s("setLoading",!1)})},signUserUp:function(t,e){var s=t.commit;s("setLoading",!0),s("clearError"),l.auth().createUserWithEmailAndPassword(e.email,e.password).then(function(t){s("setLoading",!1);var e={id:t.user.uid,registeredEvents:[],fbKeys:{}};s("setUser",e)}).catch(function(t){s("setLoading",!1),s("setError",t),console.log(t)})},signUserIn:function(t,e){var s=t.commit;s("setLoading",!0),s("clearError"),l.auth().signInWithEmailAndPassword(e.email,e.password).then(function(t){s("setLoading",!1);var e={id:t.user.uid,registeredEvents:[],fbKeys:{}};s("setUser",e)}).catch(function(t){s("setLoading",!1),s("setError",t),console.log(t)})},autoSignIn:function(t,e){(0,t.commit)("setUser",{id:e.uid,registeredEvents:[],fbKeys:{}})},fetchUserData:function(t,e){var s=t.commit,r=t.getters;s("setLoading",!0),l.database().ref("/users/"+r.user.id+"/registrations/").once("value").then(function(t){var e=t.val(),n=[],i={};for(var a in e)n.push(e[a]),i[e[a]]=a;var o={id:r.user.id,registeredEvents:n,fbKeys:i};s("setLoading",!1),s("setUser",o)}).catch(function(t){console.log(t),s("setLoading",!1)})},logout:function(t){var e=t.commit;l.auth().signOut(),e("setUser",null)},clearError:function(t){(0,t.commit)("clearError")}},getters:{loadedEvents:function(t){return t.loadedEvents.sort(function(t,e){return t.date>e.date})},featureEvents:function(t,e){return e.loadedEvents.slice(0,5)},loadedEvent:function(t){return function(e){return t.loadedEvents.find(function(t){return t.id===e})}},user:function(t){return t.user},loading:function(t){return t.loading},error:function(t){return t.error}}}),$t=function(t,e,s){kt.getters.user?s():s("/signin")};i.a.use(_.a);var It=new _.a({routes:[{path:"/",name:"Home",component:k},{path:"/events",name:"events",component:P},{path:"/event/create",name:"CreateEvent",component:N,beforeEnter:$t},{path:"/events/:id",name:"Event",props:!0,component:bt},{path:"/profile",name:"Profile",component:G,beforeEnter:$t},{path:"/signup",name:"Signup",component:ft},{path:"/signin",name:"Signin",component:it}],mode:"history"}),Lt=function(t){return new Date(t).toLocaleString(["en-US"],{month:"short",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})},Tt={props:["text"],methods:{onClose:function(){this.$emit("dismissed")}}},St=function(){var t=this,e=t.$createElement;return(t._self._c||e)("v-alert",{attrs:{error:"",dismissible:"",value:!0},on:{input:t.onClose}},[t._v("\n  "+t._s(t.text)+"\n")])},Ft=[],Rt={render:St,staticRenderFns:Ft},Pt=Rt,Vt=s("VU/8"),Mt=Vt(Tt,Pt,!1,null,null,null),Kt=Mt.exports,Ot={props:["event"],data:function(){return{editDialog:!1,editedTitle:this.event.title,editedDescription:this.event.description}},methods:{onConfirmChanges:function(){""!==this.editedTitle.trim()&&""!==this.editedDescription.trim()&&(this.editDialog=!1,this.$store.dispatch("updateEvent",{id:this.event.id,title:this.editedTitle,description:this.editedDescription}))}}},qt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-dialog",{attrs:{width:"350px",persistent:""},model:{value:t.editDialog,callback:function(e){t.editDialog=e},expression:"editDialog"}},[s("v-btn",{attrs:{slot:"activator",fab:"",accent:""},slot:"activator"},[s("v-icon",[t._v("edit")])],1),t._v(" "),s("v-card",[s("v-container",[s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{xs12:""}},[s("v-card-title",[t._v("Edit Event")])],1)],1),t._v(" "),s("v-divider"),t._v(" "),s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{xs12:""}},[s("v-card-text",[s("v-text-field",{attrs:{name:"title",label:"Title",id:"title",required:""},model:{value:t.editedTitle,callback:function(e){t.editedTitle=e},expression:"editedTitle"}}),t._v(" "),s("v-text-field",{attrs:{name:"description",label:"Description",id:"description",required:"","multi-line":""},model:{value:t.editedDescription,callback:function(e){t.editedDescription=e},expression:"editedDescription"}})],1)],1)],1),t._v(" "),s("v-divider"),t._v(" "),s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{xs12:""}},[s("v-card-actions",[s("v-btn",{attrs:{flat:""},on:{click:t.onConfirmChanges}},[t._v("Confirm")]),t._v(" "),s("v-btn",{attrs:{flat:""},on:{click:function(e){t.editDialog=!1}}},[t._v("Cancel")])],1)],1)],1)],1)],1)],1)},At=[],jt={render:qt,staticRenderFns:At},Nt=jt,Ht=s("VU/8"),Yt=Ht(Ot,Nt,!1,null,null,null),zt=Yt.exports,Wt={props:["event"],data:function(){return{editDialog:!1,editableDate:null}},methods:{onConfirmChanges:function(){var t=new Date(this.event.date),e=new Date(this.editableDate).getUTCDate(),s=new Date(this.editableDate).getUTCMonth(),r=new Date(this.editableDate).getUTCFullYear();t.setUTCDate(e),t.setUTCMonth(s),t.setUTCFullYear(r),this.$store.dispatch("updateEvent",{id:this.event.id,date:t})}},created:function(){var t=new Date(this.event.date);this.editableDate=t.getUTCFullYear()+"-"+(t.getUTCMonth()+1)+"-"+t.getUTCDate()}},Jt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-dialog",{attrs:{width:"350px",persistent:""},model:{value:t.editDialog,callback:function(e){t.editDialog=e},expression:"editDialog"}},[s("v-btn",{attrs:{slot:"activator",accent:""},slot:"activator"},[t._v("\n    Edit Date\n  ")]),t._v(" "),s("v-card",[s("v-container",[s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{xs12:""}},[s("v-card-title",[t._v("Edit Event Date")])],1)],1),t._v(" "),s("v-divider"),t._v(" "),s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{xs12:""}},[s("v-date-picker",{staticStyle:{width:"100%"},attrs:{actions:""},scopedSlots:t._u([{key:"default",fn:function(e){e.save,e.canel;return[s("v-btn",{attrs:{flat:""},nativeOn:{click:function(e){t.onConfirmChanges(e)}}},[t._v("Confirm")]),t._v(" "),s("v-btn",{attrs:{flat:""},nativeOn:{click:function(e){t.editDialog=!1}}},[t._v("Close")])]}}]),model:{value:t.editableDate,callback:function(e){t.editableDate=e},expression:"editableDate"}})],1)],1)],1)],1)],1)},Qt=[],Bt={render:Jt,staticRenderFns:Qt},Gt=Bt,Xt=s("VU/8"),Zt=Xt(Wt,Gt,!1,null,null,null),te=Zt.exports,ee={props:["event"],data:function(){return{editDialog:!1,editableTime:null}},methods:{onConfirmChanges:function(){var t=new Date(this.event.date),e=this.editableTime.match(/^(\d+)/)[1],s=this.editableTime.match(/:(\d+)/)[1];t.setHours(e),t.setMinutes(s),this.$store.dispatch("updateEvent",{id:this.event.id,date:t})}},created:function(){this.editableTime=new Date(this.event.date).toTimeString()}},se=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-dialog",{attrs:{width:"350px",persistent:""},model:{value:t.editDialog,callback:function(e){t.editDialog=e},expression:"editDialog"}},[s("v-btn",{attrs:{slot:"activator",accent:""},slot:"activator"},[t._v("\n    Edit Time\n  ")]),t._v(" "),s("v-card",[s("v-container",[s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{xs12:""}},[s("v-card-title",[t._v("Edit Event Time")])],1)],1),t._v(" "),s("v-divider"),t._v(" "),s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{xs12:""}},[s("v-time-picker",{staticStyle:{width:"100%"},attrs:{actions:"",format:"24hr"},scopedSlots:t._u([{key:"default",fn:function(e){e.save,e.canel;return[s("v-btn",{attrs:{flat:""},nativeOn:{click:function(e){t.onConfirmChanges(e)}}},[t._v("Confirm")]),t._v(" "),s("v-btn",{attrs:{flat:""},nativeOn:{click:function(e){t.editDialog=!1}}},[t._v("Close")])]}}]),model:{value:t.editableTime,callback:function(e){t.editableTime=e},expression:"editableTime"}})],1)],1)],1)],1)],1)},re=[],ne={render:se,staticRenderFns:re},ie=ne,ae=s("VU/8"),oe=ae(ee,ie,!1,null,null,null),le=oe.exports,de={props:["eventId"],data:function(){return{registerModal:!1}},computed:{userIsRegistered:function(){var t=this;return this.$store.getters.user.registeredEvents.findIndex(function(e){return e===t.eventId})>=0}},methods:{onConfirm:function(){this.userIsRegistered?this.$store.dispatch("unregisterUserForEvent",this.eventId):this.$store.dispatch("registerUserForEvent",this.eventId)}}},ce=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-dialog",{attrs:{persistent:""},model:{value:t.registerModal,callback:function(e){t.registerModal=e},expression:"registerModal"}},[s("v-btn",{attrs:{slot:"activator",accent:""},slot:"activator"},[t._v("\n    "+t._s(t.userIsRegistered?"Unregister":"Register")+"\n  ")]),t._v(" "),s("v-card",[s("v-container",[s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{xs12:""}},[t.userIsRegistered?s("v-card-title",[t._v("Unregister from Event")]):s("v-card-title",[t._v("Register to Event")])],1)],1),t._v(" "),s("v-divider"),t._v(" "),s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{xs12:""}},[s("v-card-text",[t._v("You can always change your mind later.")])],1)],1),t._v(" "),s("v-layout",{attrs:{row:"",wrap:""}},[s("v-flex",{attrs:{xs12:""}},[s("v-card-actions",[s("v-btn",{attrs:{flat:""},on:{click:t.onConfirm}},[t._v("Confirm")]),t._v(" "),s("v-btn",{staticClass:"red--text",attrs:{flat:""},on:{click:function(e){t.registerModal=!1}}},[t._v("Cancel")])],1)],1)],1)],1)],1)],1)},ve=[],ue={render:ce,staticRenderFns:ve},fe=ue,me=s("VU/8"),pe=me(de,fe,!1,null,null,null),he=pe.exports;i.a.use(o.a),i.a.filter("date",Lt),i.a.component("app-alert",Kt),i.a.component("app-edit-event-modal",zt),i.a.component("app-edit-date-modal",te),i.a.component("app-edit-time-modal",le),i.a.component("app-register-modal",he),i.a.config.productionTip=!1,new i.a({el:"#app",router:It,store:kt,render:function(t){return t(g)},created:function(){var t=this;l.initializeApp({apiKey:"AIzaSyBhiS0gMDC0_XUL-cTOZnkPVK71eCwdWgQ",authDomain:"eventful-ffba5.firebaseapp.com",databaseURL:"https://eventful-ffba5.firebaseio.com",projectId:"eventful-ffba5",storageBucket:"gs://eventful-ffba5.appspot.com"}),l.auth().onAuthStateChanged(function(e){e&&(t.$store.dispatch("autoSignIn",e),t.$store.dispatch("fetchUserData"))}),this.$store.dispatch("loadEvents")}})},QCv7:function(t,e){},SMUJ:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.42851466f07933f87f13.js.map